# hyprintf
This is a project similar to printf, ensuring low memory footprint while implementing multiple interfaces, thread safety, and additional functionality.

# 文档说明的编码格式
Chinese GB2312(Simplified)

# 简介
Hyprintf 是专为嵌入式系统设计的轻量级 printf 替代方案。它在追求高效、低内存占用的同时，提供了简单易用的接口，旨在解决传统 printf 在资源受限环境中的问题。
Hyprintf 提供了类似于 printf 的接口，允许开发者以格式字符串的形式输出数据到串口或其他目标。通过嵌入式的设计，该库在保持简洁性的同时，仍然提供了一些基本的格式化输出能力以及特别的功能。

# hyprintf优势
-	低内存占用： Hyprintf 设计追求节省内存资源，特别适用于嵌入式系统等资源受限环境，将解析数据按发送空间拆分发送，用时间换内存空间。
-	高效发送： 通过创建 printf 组，Hyprintf 允许将同一份数据轮流发送到不同的接口中，提升发送效率，避免频繁的内存操作。
-	用户API： 提供了一系列用户 API，允许根据具体需求配置不同的发送接口，使 Hyprintf 适应各种硬件和通信协议。
-	格式化输出： 实现了部分 printf 的基础功能，支持用户格式化输出，使得 Hyprintf 能够灵活应对各种数据类型。
-	接口安全： 使用互斥锁、临界段保证了接口安全，可以在多线程环境下保护临界接口资源，避免被抢占。

#	HYPRINTF数据类型
考虑到项目的移植要求，本项目仅用以下基本数据类型进行开发。
-	char
-	int
-	uint32_t（已抽象为hy_uint，可替换）
-	double（已抽象为hy_float，可替换）

# HYPRINTF功能

## 描述
发送格式化输出到各个接口中。
printf() 函数的调用格式为:  
`` hyprintf("<格式化字符串>", <参量表>); ``
## 声明
下面是 hyprintf() 函数的声明。  
`` char hyprintf(const char *str, ...) ``
## 参数
- format -- 这是字符串，包含了要被写入到接口的文本。它可以包含嵌入的 format 标签，format 标签可被随后的附加参数中指定的值替换，并按需求进行格式化。format 标签属性是 %[flags][number][. number2][type]，具体讲解如下：

| type(格式化类型) | 意义 |
| :-----: | :---- |
| d | 以十进制形式输出带符号整数(正数不输出符号) |
| b | 以二进制形式输出无符号整数(不输出前缀0b) |
| o | 以八进制形式输出无符号整数(不输出前缀0) |
| x | 以十六进制与大写字母形式输出无符号整数(不输出前缀0X) |
| X | 以十六进制与大写字母形式输出无符号整数(不输出前缀0X) |
| u | 以十进制形式输出无符号整数 |
| f | 以小数形式输出单、双精度实数 |
| c | 输出单个字符 |
| s | 输出字符串，遇到‘\0’结束符终止 |
| S | 输出数组数据，遇到’\0’结束符不会终止 |
| p | 输出指针地址 |
  

| flags(标识符) | 描述 |
| :----: | :---- |
| - | 在给定的字段宽度内左对齐，默认是右对齐（参见 number子说明符）。 |
| + | 强制在结果之前显示加号或减号（+ 或 -），即正数前面会显示 + 号。默认情况下，只有负数前面会显示一个 - 号。 |
| # | 强制在结果之前显示加号或减号（+ 或 -），即正数前面会显示 + 号。默认情况下，只有负数前面会显示一个 - 号。 |
| 0 | 将填充字符设置为零（0），而不是空格（参见 number 子说明符）。 |

| number(参数1) | 描述 |
| :----: | :---- |
| (number) | 要输出的字符的最小数目。如果输出的值短于该数，结果会用空格或字符‘0’填充。如果输出的值长于该数，结果不会被截断。对于 s 格式化类型：表示在字符串的前后要填充的字符个数对于 S 格式化类型：表示每个元素的字节数，默认情况下此值为0。 |

| .number2(参数2) | 描述 |
| :----: | :---- |
| (.number2) | 要输出的字符的最小数目。如果输出的值短于该数，结果会用空格或字符‘0’填充。如果输出的值长于该数，结果不会被截断。对于 s 格式化类型：表示在字符串的前后要填充的字符个数对于 S 格式化类型：表示每个元素的字节数，默认情况下此值为0。 | 

| other(其它) | 描述 |
| :----: | :---- |
| % | 将直接输出百分号字符本身。|
| * | 退出此次‘%‘的格式化处理，继续读取后续字符. |

# 结语
受限于开发者的技术水平，目前此项目可能仅兼容部分C编译器，如需扩展、完善等需求或有不错的idea，可联系作者，联系邮箱：h3314829906@163.com.
